{"version":3,"sources":["components/Error.js","components/Pregunta.js","components/FormularioGastos.js","components/Gasto.js","components/Listado.js","helpers.js","components/ControlPresupuesto.js","App.js","index.js"],"names":["Error","mensaje","center","className","Pregunta","setPresupuesto","setRestante","setPregunta","presupuestoGuardado","useState","cantidad","setCantidad","error","setError","Fragment","onSubmit","e","preventDefault","isNaN","localStorage","setItem","placeholder","type","name","id","onChange","parseInt","target","value","FormularioGastos","setGasto","restante","setCrearGasto","nombre","setNombre","setMensaje","gasto","trim","ShortID","generate","Gasto","Listado","gastos","length","console","log","map","key","revisarPresupuesto","presupuesto","ControlPresupuesto","resetPresupuesto","onClick","App","mostrarPregunta","getItem","restanteGuardado","gastosGuardados","JSON","parse","pregunta","setGastos","crearGasto","useEffect","presupuestoRestante","stringify","clear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bef502f9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Error = ({mensaje, center}) => (\r\n    <p className={`alert alert-danger ${center}`}>{mensaje}</p>\r\n)\r\n\r\nexport default Error","import React, {useState} from 'react'\r\nimport Error from './Error'\r\n\r\n\r\nconst Pregunta = ({setPresupuesto, setRestante, setPregunta, presupuestoGuardado }) =>{\r\n    const [cantidad,setCantidad] = useState(0)\r\n    const [error,setError] = useState(false)\r\n\r\n    const cambiarPresupuesto = e =>{\r\n        setCantidad(parseInt(e.target.value))\r\n    }\r\n\r\n    const handleSubmit = e =>{\r\n        e.preventDefault()\r\n        if( cantidad < 1 || isNaN( cantidad ) ){\r\n            setError(true)\r\n            return\r\n        }\r\n\r\n        // Si pasa la validacion\r\n        setError(false)\r\n        setPresupuesto(cantidad)\r\n        setRestante(cantidad)\r\n        setPregunta(false)\r\n        presupuestoGuardado = localStorage.setItem('presupuesto',cantidad)\r\n        localStorage.setItem('restante',cantidad)\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <h2 className=\"Pregunta__title\">Coloca Tu Presupuesto</h2>\r\n            { error ? <Error mensaje=\"El presupuesto no es vÃ¡lido\" center='center' /> : null}\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                    placeholder=\"Coloca Tu Presupuesto\"\r\n                    className=\"u-full-width\"\r\n                    type=\"number\" \r\n                    name=\"\" \r\n                    id=\"\"\r\n                    onChange={cambiarPresupuesto}\r\n                />\r\n                <button className=\"u-full-width button-primary\" type=\"submit\">Definir Presupuesto</button>\r\n            </form>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Pregunta","import React, { useState } from 'react'\r\nimport Error from './Error'\r\nimport ShortID from 'shortid'\r\n\r\nconst FormularioGastos = ( { setGasto , restante, setCrearGasto } ) => {\r\n\r\n    const [ nombre, setNombre] = useState('')\r\n    const [ cantidad, setCantidad] = useState(0)\r\n    const [ mensaje, setMensaje] = useState('')\r\n    const [ error, setError ] = useState(false)\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        let gasto = {\r\n            id: '',\r\n            nombre: nombre,\r\n            cantidad: cantidad\r\n        }\r\n\r\n        //validar\r\n        if( nombre.trim() === '' || cantidad < 1 || isNaN( cantidad ) ){\r\n            setError(true)\r\n            setMensaje('Los campos estan vacios o no es una cantidad valida')\r\n            return\r\n        }\r\n\r\n        if( cantidad > restante ){\r\n            setError(true)\r\n            setMensaje('La cantidad supera tu presupuesto')\r\n            return\r\n        }\r\n\r\n        gasto.id = ShortID.generate()\r\n\r\n        setError(false)\r\n        setGasto(gasto)\r\n        setCrearGasto(true)\r\n\r\n        //Resetear formulario\r\n        setCantidad(0)\r\n        setNombre('')\r\n\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <h2>Agrega tus gastos</h2>\r\n            {error ? <Error mensaje={mensaje} center='center' /> : null}\r\n            <form onSubmit={handleSubmit}>\r\n                <label>Nombre del Gasto</label>\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Ej. Transporte\"\r\n                    className=\"u-full-width\"\r\n                    name=\"nombre\"\r\n                    value={nombre}\r\n                    onChange={ e => setNombre(e.target.value)}\r\n                />\r\n\r\n                <label>Cantidad</label>\r\n                <input \r\n                    type=\"number\" \r\n                    placeholder=\"Ej. 300\"\r\n                    className=\"u-full-width\"\r\n                    name=\"cantidad\"\r\n                    value={cantidad}\r\n                    onChange={ e => ( e.target.value ? setCantidad(parseInt(e.target.value.trim())) : setCantidad(e.target.value) )}\r\n                />\r\n\r\n                <button type=\"submit\" className=\"button-primary u-full-width\"> Agregar Gasto</button>\r\n            </form>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default FormularioGastos","import React from 'react'\r\n\r\nconst Gasto = ({gasto}) =>(\r\n    <li>{gasto.nombre} <span>${gasto.cantidad}</span></li>\r\n)\r\n\r\nexport default Gasto","import React from 'react'\r\nimport Gasto from './Gasto'\r\n\r\nconst Listado = ({gastos}) =>{\r\n    if(gastos.length > 0){\r\n        console.log(gastos)\r\n        return(\r\n            <React.Fragment>\r\n                <h2>Lista de Gastos</h2>\r\n                <ul>\r\n                    {gastos.map( gasto =>(\r\n                        <Gasto \r\n                            key={gasto.id}\r\n                            gasto={gasto} \r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    else{\r\n        return(\r\n            <h2>No hay gastos</h2>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default Listado","export const revisarPresupuesto = (presupuesto,restante) => {\r\n    let clase;\r\n    if( presupuesto/4 > restante ){\r\n        clase = 'alert alert-danger'\r\n    }\r\n\r\n    else if( presupuesto/2 > restante ){\r\n        clase = 'alert alert-warning'\r\n    }\r\n\r\n    else{\r\n        clase = 'alert alert-primary'\r\n    }\r\n\r\n    return clase\r\n}","import React from 'react'\r\nimport { revisarPresupuesto } from '../helpers'\r\n\r\nconst ControlPresupuesto = ({presupuesto,restante, resetPresupuesto}) =>{\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <div className=\"alert alert-none\">\r\n                <p>Presupuesto: ${presupuesto}</p>\r\n            </div>\r\n\r\n            <div className={revisarPresupuesto(presupuesto,restante)}>\r\n                <p>Restante: ${restante}</p>\r\n            </div>\r\n\r\n            <button className=\"u-full-width button-primary\" onClick={resetPresupuesto}>Nuevo Presupuesto</button>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ControlPresupuesto","import React, { useState, useEffect } from 'react';\r\nimport Pregunta from './components/Pregunta'\r\nimport FormularioGastos from './components/FormularioGastos'\r\nimport Listado from './components/Listado'\r\nimport ControlPresupuesto from './components/ControlPresupuesto'\r\n\r\nfunction App() {\r\n\r\n\r\n\r\n  let mostrarPregunta\r\n  let presupuestoGuardado = localStorage.getItem('presupuesto')\r\n  let restanteGuardado = localStorage.getItem('restante')\r\n  let gastosGuardados = JSON.parse(localStorage.getItem('gastos'))\r\n\r\n  if( gastosGuardados === null){\r\n    gastosGuardados = []    \r\n  }\r\n  \r\n  if(presupuestoGuardado){\r\n    mostrarPregunta = false\r\n  }\r\n  else{\r\n    mostrarPregunta = true\r\n  }\r\n\r\n  // eslint-disable-next-line\r\n  const [ presupuesto, setPresupuesto] = useState(presupuestoGuardado)\r\n  const [ restante, setRestante] = useState(restanteGuardado)\r\n  const [ pregunta, setPregunta] = useState(mostrarPregunta)\r\n  const [ gastos, setGastos] = useState(gastosGuardados)\r\n  const [ gasto, setGasto] = useState({})\r\n  const [ crearGasto, setCrearGasto] = useState(false)\r\n\r\n  \r\n\r\n  \r\n  //Actualiza el restante\r\n  useEffect( () =>{\r\n    if(crearGasto){\r\n\r\n      //Set nuevo presupuesto\r\n      setGastos([\r\n        ...gastos,\r\n        gasto\r\n      ])\r\n\r\n      setCrearGasto(false)\r\n\r\n      let presupuestoRestante \r\n      presupuestoRestante = restante - gasto.cantidad\r\n      localStorage.setItem('restante',presupuestoRestante)\r\n      setRestante(presupuestoRestante)\r\n\r\n    }\r\n  },[gasto,setCrearGasto,gastos,restante,crearGasto])\r\n\r\n  localStorage.setItem('gastos',JSON.stringify(gastos))\r\n\r\n  const resetPresupuesto = () =>{\r\n    setPresupuesto(0)\r\n    setRestante(0)\r\n    setPregunta(true)\r\n    setGastos([])\r\n    setGasto({})\r\n    setCrearGasto(false)\r\n    localStorage.clear()\r\n  }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n      <h1>Control de Gastos</h1>      \r\n      <div className=\"container\"> \r\n        { pregunta \r\n        ?(\r\n          <Pregunta \r\n            setRestante={setRestante}\r\n            setPresupuesto={setPresupuesto}\r\n            setPregunta={setPregunta}\r\n            presupuestoGuardado = {presupuestoGuardado}\r\n            \r\n        />) \r\n        \r\n        :(\r\n          <div className=\"row\">\r\n            <div className=\"one-half column\">\r\n              <FormularioGastos \r\n                setGasto={setGasto}\r\n                restante={restante}\r\n                setCrearGasto={setCrearGasto}\r\n              />\r\n\r\n              <ControlPresupuesto \r\n                restante={restante}\r\n                presupuesto={presupuesto}\r\n                resetPresupuesto={resetPresupuesto}\r\n              />              \r\n            </div>\r\n            <div className=\"one-half column\">\r\n              <Listado gastos={gastos} />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './global.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}